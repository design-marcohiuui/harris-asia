<section class="hero" style="min-height: 72vh;">
    <div *ngIf="auth.user$ | async; then authenticated else guest"></div>
    <ng-template #authenticated>
        <div class="container has-text-black" *ngIf="auth.user$ | async as user">
            <div class="field is-family-sans-serif">
                <div class="has-text-centered has-text-weight-semibold" style="margin: 3rem">
                    <label class="is-size-5">產品防偽鑑別</label>
                </div>
                <div class="field">
                    <div class="label is-normal">
                        <label for="security">防偽碼</label>
                    </div>
                    <div class="">
                        <p class="control is-expanded has-icons-left">
                                <fa-icon [icon]="['fas','lock']" class="icon is-small is-left">
                                </fa-icon>
                            <input class="input is-rounded" type="security">
                        </p>
                    </div>
                </div>
                <!--<div class="field" style="margin-top: 2rem">
                    <div class="label is-normal">
                        <label for="valid">驗證碼</label>
                    </div>
                    <div class="">
                        <div class="content control is-expanded has-icons-left">
                            <input class="input is-rounded" type="valid">
                            <fa-icon [icon]="['fas','lock']" class="icon is-small is-left"></fa-icon>
                        </div>
                    </div>                        
                </div>-->
                
                <div class="control is-right" style="margin-top: 2rem">
                    <button class="button is-pulled-right is-rounded" type="submit" (click)="executeAction('security_verify')">
                        送出
                    </button>
                </div>
            </div>
        </div>
    </ng-template>
    <ng-template #guest>
        <p>請登入後再行驗證</p>
    </ng-template>    
</section>
<h3>Most recent token</h3>
  <pre>{{ formatToken(recentToken) }}</pre>

  <h3>reCAPTCHA execution log</h3>
  <pre *ngIf="executionLog.length === 0">(empty)</pre>
  <ol *ngIf="executionLog.length > 0">
    <li *ngFor="let entry of executionLog">
      Action: <code>{{ entry.action }}</code>. Token: <code>{{ formatToken(entry.token) }}</code>
    </li>
  </ol>